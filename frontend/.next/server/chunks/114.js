exports.id=114,exports.ids=[114],exports.modules={7753:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.d(t,{Z:()=>h});var a=s(997),r=s(2901),n=s(992),i=s(9648),c=s(1664),d=s.n(c),o=s(1163),u=s(6689),x=e([r,i]);[r,i]=x.then?(await x)():x;let h=()=>{let{user:e,setUser:t,setPlaylists:s}=(0,r.o)(),l=(0,o.useRouter)(),[c,x]=(0,u.useState)(""),[h,m]=(0,u.useState)(""),f=async e=>{if(e.preventDefault(),"/auth/register"!==l.asPath){await i.default.post(n._e,{username:c,password:h},{withCredentials:!0}).then(async e=>{await i.default.get(n.ar,{withCredentials:!0}).then(e=>{t(e.data),s(e.data.playlists),l.replace("/")}).catch(e=>{console.log(e),alert(e?.response?.data?.err)})}).catch(e=>{console.log(e),alert(e?.response?.data?.err)});return}await i.default.post(n.Kd,{username:c,password:h},{withCredentials:!0}).then(async e=>{await i.default.get(n.ar,{withCredentials:!0}).then(e=>{t(e.data),s(e.data.playlists),l.replace("/")}).catch(e=>{alert(e?.response?.data?.err)})}).catch(e=>{alert(e?.response?.data?.err)})};return(0,a.jsxs)("form",{onSubmit:f,className:"w-full flex flex-col items-start justify-start bg-gray-700 p-4 max-w-[600px] rounded-2xl gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("label",{htmlFor:"username",className:"text-white",children:"Lietotājvārds"}),a.jsx("input",{type:"text",name:"username",id:"username",className:"",placeholder:"Lietotājvārds",value:c,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[a.jsx("label",{htmlFor:"password",className:"text-white",children:"Parole"}),a.jsx("input",{type:"password",name:"password",id:"password",className:"",placeholder:"Parole",value:h,onChange:e=>m(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex w-full gap-4 items-center justify-start mt-2",children:[a.jsx("button",{className:"bg-gray-800 border-2 border-pink-500 flex-1 py-3 max-w-[300px] rounded-full text-pink-500",type:"submit",children:"Pieslēgties"}),a.jsx(d(),{href:"/auth/register"!==l.asPath?"/auth/register":"/auth/login",className:"text-pink-500 underline",children:"/auth/register"!==l.asPath?"Reģistrēties":"Pieslēgties"})]})]})};l()}catch(e){l(e)}})},3736:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.d(t,{N:()=>g,Z:()=>p});var a=s(997),r=s(6689),n=s(2901),i=s(992),c=s(9154),d=s(8680),o=s(3551),u=s(682),x=s(9648),h=s(1664),m=s.n(h),f=e([n,c,x]);[n,c,x]=f.then?(await f)():f;let p=()=>{let{user:e,playlists:t,songs:s,setSongs:l,setUser:o,setPlaying:u,setPlaylists:h,setCurrentSong:f}=(0,n.o)();(0,r.useEffect)(()=>{s||(async()=>{await x.default.get(i.bg,{withCredentials:!0}).then(e=>{l(e.data)}).catch(e=>{alert(e?.response?.data?.err)})})()},[]);let p=async()=>{await x.default.post(i.Lx,{},{withCredentials:!0}).then(e=>{o(null),f(null),l(null),u(!1),h(null)})};return(0,a.jsxs)("section",{className:"flex flex-col w-full gap-4 ",children:[(0,a.jsxs)("div",{className:"w-full p-4 bg-gray-900 rounded-xl border flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-4xl text-white",children:["Sveicināts ",e?.username,"!"]}),a.jsx("button",{onClick:p,children:a.jsx(c.ArrowLeftEndOnRectangleIcon,{className:"text-pink-500 h-6"})})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col min-h-80 bg-gray-900 w-full max-w-[250px] border rounded-xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"w-full h-12 bg-gray-900/90 border-b text-white px-4 flex items-center justify-between",children:[a.jsx("p",{children:"Albumi"}),a.jsx(m(),{href:"/new-album",children:a.jsx(d.Z,{className:"text-white h-5"})})]}),t?.length?a.jsx("div",{className:"flex flex-col text-white",children:t.map((e,t)=>a.jsx(m(),{href:`/album/${e.id}`,className:"flex w-full gap-1 items-center justify-start p-2 hover:bg-gray-800 min-h-12",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-start justify-center overflow-hidden",children:[a.jsx("p",{children:e.title}),a.jsx("small",{className:"truncate w-full text-gray-400",children:e.description})]})},t))}):a.jsx("div",{className:"text-center p-4 text-gray-100",children:a.jsx("p",{children:"Pagaidām nav neviena albuma"})})]}),(0,a.jsxs)("div",{className:"flex flex-col min-h-80 bg-gray-900 flex-1 rounded-xl border overflow-hidden",children:[a.jsx("div",{className:"w-full h-12 bg-gray-900/90 border-b text-white px-4 flex items-center justify-between",children:a.jsx("p",{children:"Dziesmas"})}),s?.length?a.jsx("div",{className:"flex flex-col w-full",children:s.map((e,t)=>(0,r.createElement)(g,{...e,key:t}))}):a.jsx("div",{className:""})]})]})]})},g=({...e})=>{let{currentSong:t,setCurrentSong:s,playlists:l,setPlaylists:c}=(0,n.o)(),[d,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)([]),p=async()=>{await x.default.post(i.Kq,{songId:e.id,playlistIds:m}).then(e=>{f([]),h(!1),c(e.data.playlists)}).catch(e=>{alert(e?.response?.data?.err)})};return(0,a.jsxs)("div",{className:"w-full min-h-12 flex items-center justify-start text-gray-200 px-2 gap-4 hover:bg-gray-800 group",children:[d?a.jsx("div",{className:"w-full h-full absolute top-0 left-0 z-50 bg-black/30 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"w-full max-w-[600px] p-4 rounded-md bg-gray-800 border gap-4 flex flex-col",children:[a.jsx("strong",{children:"Pievienot albumiem"}),(0,a.jsxs)("select",{onChange:e=>e.target.value?f(Array.from(new Set([...m,Number(e.target.value)]))):null,children:[a.jsx("option",{value:""}),l?.map((e,t)=>a.jsx("option",{value:e.id,children:e.title},t))]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:m.map((e,t)=>(0,a.jsxs)("p",{className:"text-pink-500 hover:line-through cursor-pointer",onClick:()=>f(m.filter(t=>t!==e)),children:["#",l?.find(t=>t.id===e)?.title]},t))}),(0,a.jsxs)("div",{className:"flex w-full gap-4 items-center justify-start mt-2",children:[a.jsx("button",{className:"bg-gray-800 border-2 border-pink-500 flex-1 py-3 max-w-[200px] rounded-full text-pink-500",onClick:p,children:"Saglabāt"}),a.jsx("button",{className:"text-pink-500 underline",onClick:()=>{f([]),h(!1)},children:"Atpakaļ"})]})]})}):null,(0,a.jsxs)("button",{className:"flex flex-1 h-full items-center justify-between",onClick:()=>s(e),children:[a.jsx("p",{className:"text-white",children:e.title}),a.jsx(o.Z,{className:`h-6 text-pink-500 ${t?.id!==e.id?"hidden group-hover:block":""}`})]}),a.jsx("button",{className:"z-10",onClick:()=>{h(!0),f(l?.filter(t=>t.songs.some(t=>t.songId===e.id)).map(e=>e.id))},children:a.jsx(u.Z,{className:"text-white h-6"})})]})};l()}catch(e){l(e)}})},2901:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.d(t,{o:()=>n});var a=s(6912),r=e([a]);a=(r.then?(await r)():r)[0];let n=(0,a.create)()(e=>({currentSong:null,songs:null,user:null,playing:!1,playlists:null,setPlaying:t=>e(()=>({playing:t})),setCurrentSong:t=>e(()=>({currentSong:t})),setSongs:t=>e(()=>({songs:t})),setUser:t=>e(()=>({user:t})),setPlaylists:t=>e(()=>({playlists:t}))}));l()}catch(e){l(e)}})},7517:(e,t,s)=>{"use strict";s.a(e,async(e,l)=>{try{s.d(t,{Z:()=>p});var a=s(997),r=s(7753),n=s(2901),i=s(992),c=s(8125),d=s(3436),o=s(1321),u=s(6055),x=s(9648),h=s(1163),m=s(6689),f=e([r,n,x]);[r,n,x]=f.then?(await f)():f;let p=({children:e,title:t,description:s})=>{let{user:l,setUser:f,setPlaylists:p,currentSong:g,playing:j,setPlaying:w}=(0,n.o)(),y=(0,m.useRef)(null),b=(0,h.useRouter)();return((0,m.useEffect)(()=>{l||(async()=>{await x.default.get(i.ar,{withCredentials:!0}).then(e=>{p(e.data.playlists),f(e.data),b.replace("/")}).catch(e=>{alert(e?.response?.data?.err)})})()},[]),(0,m.useEffect)(()=>{j&&g&&setTimeout(()=>{y.current&&y.current.play()},1e3)},[j,g]),l)?(0,a.jsxs)("main",{className:"w-full flex flex-col items-center justify-start bg-gray-800 min-h-screen py-20",children:[g?(0,a.jsxs)("audio",{id:"song",ref:y,children:[a.jsx("source",{src:`/music/${g.file_id}.mp3`,type:"audio/mp3"}),"Your browser does not support the audio element."]}):null,(0,a.jsxs)("div",{className:"w-full max-w-[1200px] flex flex-col px-4",children:[e,g?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 bg-gray-900 rounded-xl border mt-4 sticky bottom-0 z-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center  gap-4",children:[a.jsx("button",{children:a.jsx(c.Z,{className:"text-white h-8"})}),a.jsx("button",{onClick:()=>{w(!j),j&&y.current&&y.current.pause()},children:j?a.jsx(d.Z,{className:"text-white h-12"}):a.jsx(o.Z,{className:"text-white h-12"})}),a.jsx("button",{children:a.jsx(u.Z,{className:"text-white h-8"})})]}),a.jsx("p",{className:"text-pink-500 mt-2",children:g.title})]}):null]})]}):a.jsx("main",{className:"w-full flex flex-col items-center justify-center bg-gray-800 min-h-screen px-4",children:a.jsx(r.Z,{})})};l()}catch(e){l(e)}})},5143:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var l=s(997);function a({Component:e,pageProps:t}){return l.jsx(e,{...t})}s(108)},29:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var l=s(997),a=s(6859);function r(){return(0,l.jsxs)(a.Html,{lang:"en",children:[l.jsx(a.Head,{}),(0,l.jsxs)("body",{children:[l.jsx(a.Main,{}),l.jsx(a.NextScript,{})]})]})}},992:(e,t,s)=>{"use strict";s.d(t,{Kd:()=>n,Kq:()=>o,Lx:()=>r,_e:()=>a,ar:()=>i,bg:()=>d,he:()=>c});let l="/api",a=`${l}/user/login`,r=`${l}/user/logout`,n=`${l}/user/register`,i=`${l}/user/check-for-login`,c=`${l}/playlist`,d=`${l}/song`,o=`${d}/add-to-playlist`},108:()=>{},682:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var l=s(6689);let a=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))})},3551:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var l=s(6689);let a=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"}))})},8680:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var l=s(6689);let a=l.forwardRef(function({title:e,titleId:t,...s},a){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})}};